import{g as p,s as Q,u as v,a as f,c as h,b as y}from"./assets/header-CUv6V0eE.js";import{i as d,a as C,S as k}from"./assets/vendor-X-nWYsMu.js";const R=document.querySelectorAll(".span-counter"),r=document.querySelector(".modal-window-shop"),J=document.querySelector(".list-one"),U="AIzaSyCbhd8jVjDvkoH3mR5P3m_eE4AVPzLy9_4",b="https://www.googleapis.com/books/v1/volumes";let n=p();B();J.addEventListener("click",async o=>{if(o.preventDefault(),o.target.classList.contains("textUpHover")){document.body.classList.add("modal-open");const e=o.target.parentNode.dataset.category,t=await N(e);console.log(typeof t);let s=`
            <svg class="close-window" fill="none">
                <use id="close-window" href="${Q}#close"></use>
            </svg>
        <div class="">
            <div class="main-modal-window-content">
                <div class="modal-image-container"><img class="modal-image" src="${t.volumeInfo.imageLinks&&t.volumeInfo.imageLinks.thumbnail?t.volumeInfo.imageLinks.thumbnail:imageNoBook}" alt="${t.volumeInfo.title}"></div>
        
                <div class="modal-main-content-text">
                    <h2 class="">${t.volumeInfo.title}</h2>
                    <p class="book-author">${t.volumeInfo.authors}</p>
                    `;s+=`
                        <div class="modal-book-description">${t.volumeInfo.description}</div>`,s+=`
                    <div class="link-container-modal-window">
                        <a href="${t.volumeInfo.previewLink}" target="_blank">
                            <img src="./img/amazon.png" srcset="./img/amazon.png 1x, ./img/amazon2x.png 2x" alt="amazon"></img>
                        </a>
                        <a href="${t.volumeInfo.infoLink}" target="_blank">
                            <img src="./img/book.png" srcset="./img/book.png 1x, ./img/book2x.png 2x" alt="book"></img>
                        </a>
                    </div>

                </div>
            </div>
        </div>`,n.has(t.title)?s+=`
        <div>
            <button class="button-modal-window" type="button" data-id="${t.id}" data-title="${t.title}">Remove from the shopping list</button>
            <p id="congratulations" style="display: block;">Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.</p>
        </div>`:s+=`
            <div>
                <button class="button-modal-window" type="button" data-id="${t.id}" data-title="${t.title}">Add to shopping list</button>
                <p id="congratulations" style="display: none;">Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.</p>
            </div>`,document.querySelector(".modal-content").innerHTML=s,document.querySelector(".modal-window-shop").style.display="block"}});r.addEventListener("click",async o=>{console.log("ok1"),o.target.closest(".close-window")?(console.log("ok2"),r.style.display="none",document.body.classList.remove("modal-open")):o.target.classList.contains("modal-window-shop")?(console.log("ok3"),r.style.display="none",document.body.classList.remove("modal-open")):o.target.classList.contains("button-modal-window")&&q(o.target)});async function q(o){try{if(o.textContent==="Add to shopping list"){if(n.has(o.dataset.title))throw new Error("This book has added");n.set(o.dataset.title,o.dataset.id),o.textContent="Remove from the shopping list";const e=document.getElementById("congratulations");e.style.display="block"}else{n.delete(o.dataset.title),o.textContent="Add to shopping list";const e=document.getElementById("congratulations");e.style.display="none"}}catch(e){d.error({title:"Error",message:e.message})}finally{v(n),f(),B()}}async function N(o){try{const e=await C.get(`${b}/${o}`,{params:{key:U}});return console.log(e.data),e.data}catch(e){console.log("Ошибка при выполнении запроса: ",e)}}async function B(){R.forEach(async o=>{o.textContent=n.size,n.size||(o.style.display="none")})}const S="data:image/png;base64,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",u=document.querySelector(".list-one"),I=document.querySelector(".list_categories"),m=document.querySelector(".container-loader"),A=document.querySelector(".input_searching"),G=document.querySelector(".form_images"),L="AIzaSyCbhd8jVjDvkoH3mR5P3m_eE4AVPzLy9_4",D="https://www.googleapis.com/books/v1/volumes",c=["Science Fiction","Romance","Mystery","Adventure","Thriller","Horror","Fantasy","Mysteries","Drama","Historical Fiction","Poetry","Classics","Biography","Autobiography","Children's Literature","Comics","Humor","Religion","Philosophy","Psychology","Self-Help","Travel","Cooking","Art","Music","Sports","Science","Technology","Business","Finance","Education","Health","Fitness","Lifestyle","Gardening","Parenting","Crafts","Hobbies","Reference","Manga"],K=c[Math.floor(Math.random()*c.length)];let i=20;window.addEventListener("load",async o=>{o.preventDefault(),w(),h(),E("Best Sellers Books"),l(),y()});G.addEventListener("submit",async o=>{if(o.preventDefault(),!A.value.trim()){d.error({title:"Error",message:"Please enter a keyword for search"});return}i=0,l()});I.addEventListener("click",async o=>{o.preventDefault();let e;o.target.classList.contains("categories")&&(x(o),e=o.target.textContent,E(e),A.value="",i=0,l(e))});u.addEventListener("click",async o=>{if(o.preventDefault(),o.target.classList.contains("card-books-category-button")){const t=o.target.dataset.category;P("list-name"),i+=10,l(),E(t)}});async function w(){try{let o="";for(let e of c)o+=`<li id="${e}" class="categories">${e}</li>`;I.innerHTML=o}catch(o){console.log("Ошибка при выполнении запроса: "+o)}}async function F(o){try{return(await C.get(D,{params:{q:o,printType:"books",startIndex:i,maxResults:9,key:L}})).data.items}catch(e){console.log("Ошибка при выполнении запроса: "+e)}}async function l(o){try{m.style.display="block";const e=A.value.trim()?A.value.trim():K,t=o||e,s=await F(t);console.log(s),console.log(t);let g=`
                    <li class="list-all-cards-category" style="align-items: flex-start;">
                        <ul class="list-cards-category">`;for(let a of s)g+=`
                                    <li data-category="${a.id}" class="card-book">
                                        <a class="gallery-link" href="${a.volumeInfo.canonicalVolumeLink}">
                                            <img class="img-example" src="${a.volumeInfo.imageLinks&&a.volumeInfo.imageLinks.thumbnail?a.volumeInfo.imageLinks.thumbnail:S}" alt="${a.volumeInfo.title}">
                                        </a>
                                        <div class="textUpHover">Quick view</div>
                                        <div class="card-book-container">
                                            <p>${a.volumeInfo.title}</p>
                                            <p>${a.volumeInfo.authors}</p>
                                            <div class="rank-book-container">
                                                <svg fill="none">
                                                    <use id="star" href="${Q}#star"></use>
                                                </svg>
                                                <span>${a.volumeInfo.pageCount?a.volumeInfo.pageCount:0}</span>
                                            </div>
                                        </div>
                                    </li>
                            `;g+=`</ul>
                        <button class="card-books-category-button" type="button" data-category="${t}">See more</button>
                    </li>`,u.innerHTML=g}catch(e){console.log("Ошибка при выполнении запроса: "+e)}finally{z(),m.style.display="none"}}async function E(o){const e=o.lastIndexOf(" "),t=document.querySelector(".name-category");t.innerHTML=`${o.substring(0,e)} <span class="blue-color">${o.substring(e+1)}</span>`}async function z(){try{new k(".gallery-link",{captionsData:"alt",captionDelay:350,uniqueImages:!1})}catch(o){d.error({title:"Error",message:o.message})}}async function x(o){const e=document.querySelector(".categories.selected");e&&e.classList.remove("selected"),typeof o=="string"?document.getElementById(o).classList.add("selected"):o.target.classList.add("selected")}function P(o){document.getElementById(o).scrollIntoView()}
//# sourceMappingURL=commonHelpers.js.map
