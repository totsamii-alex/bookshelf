import{g as k,s as d,u as b,a as R,c as q,b as J}from"./assets/header-BRfzvn9P.js";import{i as I,a as p}from"./assets/vendor-DSv6nxR9.js";const m="data:image/png;base64,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",S=document.querySelectorAll(".span-counter"),c=document.querySelector(".modal-window-shop"),U=document.querySelector(".list-one"),C=document.querySelector(".modal-window-shop .container-loader"),N="AIzaSyCbhd8jVjDvkoH3mR5P3m_eE4AVPzLy9_4",L="https://www.googleapis.com/books/v1/volumes";let n=k();v();U.addEventListener("click",async o=>{if(o.preventDefault(),o.target.classList.contains("img-example")){C.style.display="block",document.body.classList.add("modal-open");const e=o.target.parentNode.parentNode.dataset.category,t=await D(e);console.log(typeof t);let s=`
            <svg class="close-window" fill="none">
                <use id="close-window" href="${d}#close"></use>
            </svg>
        <div class="">
            <div class="main-modal-window-content">
                <div class="modal-image-container"><img class="modal-image" src="${t.volumeInfo.imageLinks&&t.volumeInfo.imageLinks.thumbnail?t.volumeInfo.imageLinks.thumbnail:m}" alt="${t.volumeInfo.title}"></div>
        
                <div class="modal-main-content-text">
                    <h2 class="">${t.volumeInfo.title}</h2>
                    <p class="book-author">${t.volumeInfo.authors}</p>
                    `;s+=`
                        <div class="modal-book-description">${t.volumeInfo.description?t.volumeInfo.description:""}</div>`,s+=`
                    <div class="link-container-modal-window">
                        <a href="${t.volumeInfo.previewLink}" target="_blank">
                            <img src="../img/amazon.png" srcset="../img/amazon.png 1x, ../img/amazon2x.png 2x" alt="amazon"></img>
                        </a>
                        <a href="${t.volumeInfo.infoLink}" target="_blank">
                            <img src="../img/book.png" srcset="../img/book.png 1x, ../img/book2x.png 2x" alt="book"></img>
                        </a>
                    </div>

                </div>
            </div>
        </div>`,n.has(t.title)?s+=`
        <div>
            <button class="button-modal-window" type="button" data-id="${t.id}" data-title="${t.title}">Remove from the shopping list</button>
            <p id="congratulations" style="display: block;">Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.</p>
        </div>`:s+=`
            <div>
                <button class="button-modal-window" type="button" data-id="${t.id}" data-title="${t.title}">Add to shopping list</button>
                <p id="congratulations" style="display: none;">Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.</p>
            </div>`,C.style.display="none",document.querySelector(".modal-content").innerHTML=s,document.querySelector(".modal-window-shop").style.display="block"}});c.addEventListener("click",async o=>{console.log("ok1"),o.target.closest(".close-window")?(console.log("ok2"),c.style.display="none",document.body.classList.remove("modal-open")):o.target.classList.contains("modal-window-shop")?(console.log("ok3"),c.style.display="none",document.body.classList.remove("modal-open")):o.target.classList.contains("button-modal-window")&&G(o.target)});async function G(o){try{if(o.textContent==="Add to shopping list"){if(n.has(o.dataset.title))throw new Error("This book has added");n.set(o.dataset.title,o.dataset.id),o.textContent="Remove from the shopping list";const e=document.getElementById("congratulations");e.style.display="block"}else{n.delete(o.dataset.title),o.textContent="Add to shopping list";const e=document.getElementById("congratulations");e.style.display="none"}}catch(e){I.error({title:"Error",message:e.message})}finally{b(n),R(),v()}}async function D(o){try{const e=await p.get(`${L}/${o}`,{params:{key:N}});return console.log(e.data),e.data}catch(e){console.log("Ошибка при выполнении запроса: ",e)}}async function v(){S.forEach(async o=>{o.textContent=n.size,n.size||(o.style.display="none")})}const f=document.querySelector(".list-one"),y=document.querySelector(".list_categories"),Q=document.querySelector(".container-loader"),B=document.querySelector(".button-loader .container-loader"),i=document.querySelector(".input_searching"),K=document.querySelector(".form_images"),A=document.querySelector(".for-button"),w=document.querySelector(".svg-list-orientation"),F=document.querySelector(".svg-square-grid-orientation"),z="AIzaSyCbhd8jVjDvkoH3mR5P3m_eE4AVPzLy9_4",x="https://www.googleapis.com/books/v1/volumes",g=["Science Fiction","Romance","Mystery","Adventure","Thriller","Horror","Fantasy","Mysteries","Drama","Historical Fiction","Poetry","Classics","Biography","Autobiography","Children's Literature","Comics","Humor","Religion","Philosophy","Psychology","Self-Help","Travel","Cooking","Art","Music","Sports","Science","Technology","Business","Finance","Education","Health","Fitness","Lifestyle","Gardening","Parenting","Crafts","Hobbies","Reference","Manga"],T=g[Math.floor(Math.random()*g.length)];let r=20,l;window.addEventListener("load",async o=>{o.preventDefault(),P(),q(),E("Best Sellers Books"),u(),J()});K.addEventListener("submit",async o=>{if(o.preventDefault(),!i.value.trim()){I.error({title:"Error",message:"Please enter a keyword for search"});return}r=0,u()});y.addEventListener("click",async o=>{o.preventDefault();let e;o.target.classList.contains("categories")&&(X(o),e=o.target.textContent,E(e),i.value="",r=0,u(e),H("list-name"))});A.addEventListener("click",async o=>{o.preventDefault();const e=o.target.dataset.category;r+=9,O(),E(e)});async function P(){try{let o="";for(let e of g)o+=`<li id="${e}" class="categories">${e}</li>`;y.innerHTML=o}catch(o){console.log("Ошибка при выполнении запроса: "+o)}}async function h(o){try{return(await p.get(x,{params:{q:o,printType:"books",startIndex:r,maxResults:9,key:z}})).data.items}catch(e){console.log("Ошибка при выполнении запроса: "+e)}}async function u(o){try{Q.style.display="block";const e=i.value.trim()?i.value.trim():T;l=o||e;const t=await h(l);console.log(t),console.log(l);let s=`
                    <li class="list-all-cards-category" style="align-items: flex-start;">
                        <ul class="list-cards-category">`;for(let a of t)s+=`
                                    <li data-category="${a.id}" class="card-book">
                                        <a class="gallery-link" href="${a.volumeInfo.canonicalVolumeLink}">
                                            <img class="img-example" src="${a.volumeInfo.imageLinks&&a.volumeInfo.imageLinks.thumbnail?a.volumeInfo.imageLinks.thumbnail:m}" alt="${a.volumeInfo.title}">
                                        </a>
                                        <div class="card-book-container">
                                            <div>
                                                <p>${a.volumeInfo.title}</p>
                                                <p>${a.volumeInfo.authors?a.volumeInfo.authors:""}</p>
                                                <p class="book-desc">${a.volumeInfo.description?a.volumeInfo.description:""}</p>
                                            </div>

                                            <div class="rank-book-container">
                                                <svg fill="none">
                                                    <use id="star" href="${d}#star"></use>
                                                </svg>
                                                <span>${a.volumeInfo.pageCount?a.volumeInfo.pageCount:0}</span>
                                            </div>
                                        </div>
                                    </li>
                            `;s+=`</ul>
                    </li>`,f.innerHTML=s,A.innerHTML=`<button class="card-books-category-button" type="button" data-category="${l}">See more</button>`}catch(e){console.log("Ошибка при выполнении запроса: "+e)}finally{Q.style.display="none"}}async function O(){try{B.style.display="block",A.style.display="none";const o=await h(l);console.log(o),console.log(l);let e=`
                    <li class="list-all-cards-category" style="align-items: flex-start;">
                        <ul class="list-cards-category">`;for(let t of o)e+=`
                                    <li data-category="${t.id}" class="card-book">
                                        <a class="gallery-link" href="${t.volumeInfo.canonicalVolumeLink}">
                                            <img class="img-example" src="${t.volumeInfo.imageLinks&&t.volumeInfo.imageLinks.thumbnail?t.volumeInfo.imageLinks.thumbnail:m}" alt="${t.volumeInfo.title}">
                                        </a>
                                        <div class="card-book-container">
                                            <div>
                                                <p>${t.volumeInfo.title}</p>
                                                <p>${t.volumeInfo.authors?t.volumeInfo.authors:""}</p>
                                                <p class="book-desc">${t.volumeInfo.description?t.volumeInfo.description:""}</p>
                                            </div>
                                            <div class="rank-book-container">
                                                <svg fill="none">
                                                    <use id="star" href="${d}#star"></use>
                                                </svg>
                                                <span>${t.volumeInfo.pageCount?t.volumeInfo.pageCount:0}</span>
                                            </div>
                                        </div>
                                    </li>
                            `;e+=`</ul>
                    </li>`,f.insertAdjacentHTML("beforeend",e)}catch(o){console.log("Ошибка при выполнении запроса: "+o)}finally{Y(450),B.style.display="none",A.style.display="flex"}}async function E(o){const e=o.lastIndexOf(" "),t=document.querySelector(".name-category");t.innerHTML=`${o.substring(0,e)} <span class="blue-color">${o.substring(e+1)}</span>`}async function X(o){const e=document.querySelector(".categories.selected");e&&e.classList.remove("selected"),typeof o=="string"?document.getElementById(o).classList.add("selected"):o.target.classList.add("selected")}w.addEventListener("click",async o=>{o.preventDefault(),console.log("list"),document.querySelector(".list-one").classList.remove("grid-position")});F.addEventListener("click",async o=>{o.preventDefault(),document.querySelector(".list-one").classList.add("grid-position")});function Y(o){window.scrollBy({top:o,behavior:"smooth"})}function H(o){document.getElementById(o).scrollIntoView({behavior:"smooth"})}
//# sourceMappingURL=commonHelpers.js.map
