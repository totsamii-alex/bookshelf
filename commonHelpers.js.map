{"version":3,"file":"commonHelpers.js","sources":["../src/img/no-image-book.png","../src/js/modal-window.js","../src/main.js"],"sourcesContent":["export default \"data:image/png;base64,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\"","\"use strict\";\nimport axios from \"axios\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport {getMapFromLocalStorage, updateLocalStorage, updateArrayMap} from \"./local-storage.js\";\nimport sprite from \"../img/blocks.svg\";\nimport imageNoBook from \"../img/no-image-book.png\";\n\nconst spanCounter = document.querySelectorAll('.span-counter');\nconst modalWindow = document.querySelector(\".modal-window-shop\");\nconst listOne = document.querySelector(\".list-one\");\nconst loadingIndicator = document.querySelector(\".modal-window-shop .container-loader\");\n\nconst API_KEY = 'AIzaSyCbhd8jVjDvkoH3mR5P3m_eE4AVPzLy9_4';\nconst API_URL = 'https://www.googleapis.com/books/v1/volumes';\n// local storage //\nlet arrayBooksShop = getMapFromLocalStorage();\n// local storage //\nsetSpanCounter();\n\nlistOne.addEventListener(\"click\", async (e) => {\n    e.preventDefault();\n\n    if (e.target.classList.contains('img-example')) {\n\n        loadingIndicator.style.display = \"block\";\n\n        document.body.classList.add('modal-open');\n        const _id = e.target.parentNode.parentNode.dataset.category;\n        const book = await searchBookById(_id);\n\n        console.log(typeof book);\n\n        let shopBook = `\n            <svg class=\"close-window\" fill=\"none\">\n                <use id=\"close-window\" href=\"${sprite}#close\"></use>\n            </svg>\n        <div class=\"\">\n            <div class=\"main-modal-window-content\">\n                <div class=\"modal-image-container\"><img class=\"modal-image\" src=\"${!(book.volumeInfo.imageLinks && book.volumeInfo.imageLinks.thumbnail) ? imageNoBook : book.volumeInfo.imageLinks.thumbnail}\" alt=\"${book.volumeInfo.title}\"></div>\n        \n                <div class=\"modal-main-content-text\">\n                    <h2 class=\"\">${book.volumeInfo.title}</h2>\n                    <p class=\"book-author\">${book.volumeInfo.authors}</p>\n                    `;\n                    if (true) {\n                        shopBook += `\n                        <div class=\"modal-book-description\">${!(book.volumeInfo.description) ? \"\" : book.volumeInfo.description}</div>`;\n                    }\n                    shopBook += `\n                    <div class=\"link-container-modal-window\">\n                        <a href=\"${book.volumeInfo.previewLink}\" target=\"_blank\">\n                            <img src=\"../img/amazon.png\" srcset=\"../img/amazon.png 1x, ../img/amazon2x.png 2x\" alt=\"amazon\"></img>\n                        </a>\n                        <a href=\"${book.volumeInfo.infoLink}\" target=\"_blank\">\n                            <img src=\"../img/book.png\" srcset=\"../img/book.png 1x, ../img/book2x.png 2x\" alt=\"book\"></img>\n                        </a>\n                    </div>\n\n                </div>\n            </div>\n        </div>`;\n        if (arrayBooksShop.has(book.title)) {\n            shopBook += `\n        <div>\n            <button class=\"button-modal-window\" type=\"button\" data-id=\"${book.id}\" data-title=\"${book.title}\">Remove from the shopping list</button>\n            <p id=\"congratulations\" style=\"display: block;\">Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.</p>\n        </div>`;\n        } else {\n            shopBook += `\n            <div>\n                <button class=\"button-modal-window\" type=\"button\" data-id=\"${book.id}\" data-title=\"${book.title}\">Add to shopping list</button>\n                <p id=\"congratulations\" style=\"display: none;\">Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.</p>\n            </div>`;\n        }\n        \n        loadingIndicator.style.display = \"none\";\n\n        document.querySelector(\".modal-content\").innerHTML = shopBook;\n        document.querySelector(\".modal-window-shop\").style.display = \"block\";\n    }\n});\n\nmodalWindow.addEventListener(\"click\", async (e) => {\n    console.log(\"ok1\");\n    if (e.target.closest('.close-window')) {\n        \n        console.log(\"ok2\");\n        modalWindow.style.display = \"none\";\n        document.body.classList.remove('modal-open');\n    }\n    else if (e.target.classList.contains('modal-window-shop')) {\n        console.log(\"ok3\");\n        modalWindow.style.display = \"none\";\n        document.body.classList.remove('modal-open');\n    }\n    else if (e.target.classList.contains('button-modal-window')) {\n        bookSaveInShop(e.target);\n    }\n});\n\nasync function bookSaveInShop(buttonShL) {\n    try {\n        if (buttonShL.textContent === \"Add to shopping list\") {\n            if (arrayBooksShop.has(buttonShL.dataset.title)) {\n                throw new Error('This book has added');\n            }\n\n            arrayBooksShop.set(buttonShL.dataset.title, buttonShL.dataset.id);\n            buttonShL.textContent = \"Remove from the shopping list\";\n            const paragraf = document.getElementById('congratulations');\n            paragraf.style.display = \"block\";\n        }\n        else { \n            arrayBooksShop.delete(buttonShL.dataset.title);\n\n            buttonShL.textContent = \"Add to shopping list\";\n            const paragraf = document.getElementById('congratulations');\n            paragraf.style.display = \"none\"; \n        }\n\n    } catch (error) {\n        iziToast.error({\n            title: \"Error\",\n            message: error.message,\n        });\n    } finally {\n        updateLocalStorage(arrayBooksShop); \n        updateArrayMap(arrayBooksShop);\n        setSpanCounter();\n    }\n}\n\nasync function searchBookById(bookId) {\n    try {\n        const response = await axios.get(`${API_URL}/${bookId}`, {\n            params: {\n                key: API_KEY\n            }\n        });\n        console.log(response.data);\n        return response.data;\n\n        \n\n    } catch (error) {\n        console.log('Ошибка при выполнении запроса: ', error);\n    }\n}\n\nasync function setSpanCounter() {\n    spanCounter.forEach( async (element) => {\n        element.textContent = arrayBooksShop.size;\n        if (!arrayBooksShop.size) element.style.display = \"none\";\n    });\n}","\"use strict\";\nimport axios from \"axios\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport {createSupportUkraine} from \"./js/support-ukraine.js\";\nimport {scrollUp, scrollUpZero} from \"./js/scroll-up.js\";\nimport './js/modal-window.js';\nimport './js/header.js';\nimport sprite from \"./img/blocks.svg\";\nimport imageNoBook from \"./img/no-image-book.png\";\n\nconst listOne = document.querySelector(\".list-one\");\nconst listCategories = document.querySelector(\".list_categories\");\nconst loadingIndicator = document.querySelector(\".container-loader\");\nconst loadingIndicatorAfter = document.querySelector(\".button-loader .container-loader\");\nconst input = document.querySelector('.input_searching');\nconst form = document.querySelector('.form_images');\nconst forButton = document.querySelector('.for-button');\nconst list = document.querySelector(\".svg-list-orientation\");\nconst gridOrientation = document.querySelector(\".svg-square-grid-orientation\");\n\nconst API_KEY = 'AIzaSyCbhd8jVjDvkoH3mR5P3m_eE4AVPzLy9_4';\nconst API_URL = 'https://www.googleapis.com/books/v1/volumes';\nconst categories = [\n    'Science Fiction','Romance','Mystery','Adventure','Thriller','Horror','Fantasy','Mysteries',\n    'Drama','Historical Fiction','Poetry','Classics','Biography','Autobiography','Children\\'s Literature',\n    'Comics','Humor','Religion','Philosophy','Psychology','Self-Help','Travel','Cooking','Art','Music',\n    'Sports','Science','Technology','Business','Finance','Education','Health','Fitness',\n    'Lifestyle','Gardening','Parenting','Crafts','Hobbies','Reference','Manga'\n];\n\nconst randomKeyword = categories[Math.floor(Math.random() * categories.length)];\nlet startIndex = 20;\nlet query;\n\nwindow.addEventListener(\"load\", async (e) => {\n    e.preventDefault();\n\n    mainCategories();\n    createSupportUkraine();\n    addColorLastWord(\"Best Sellers Books\");\n    sortGalery();\n    scrollUpZero();\n});\n\nform.addEventListener('submit', async (e) => {\n    e.preventDefault();\n\n    if (!input.value.trim()) {\n        iziToast.error({\n            title: \"Error\",\n            message: \"Please enter a keyword for search\",      \n        });\n        return;\n    }\n    startIndex = 0;\n    sortGalery();\n});\n\nlistCategories.addEventListener(\"click\", async (e) => {\n    e.preventDefault();\n    let selectedCategory;\n\n    if (e.target.classList.contains('categories')) {\n        setColorGaleryList(e);\n\n        selectedCategory = e.target.textContent;\n        addColorLastWord(selectedCategory);\n        input.value = \"\";\n        startIndex = 0;\n        sortGalery(selectedCategory);\n        scrollToElementId('list-name');\n    }\n});\n\nforButton.addEventListener(\"click\", async (e) => {\n    e.preventDefault();\n    const category = e.target.dataset.category;\n\n    startIndex += 9;\n    nextGalery();\n    addColorLastWord(category);\n});\n\nasync function mainCategories() {\n    try {\n        let  contentCategories = ``;\n\n        for (let category of categories) {\n            contentCategories += `<li id=\"${category}\" class=\"categories\">${category}</li>`;\n        }\n        listCategories.innerHTML = contentCategories;\n\n    } catch(error) {\n        console.log('Ошибка при выполнении запроса: ' + error);\n    }\n}\n\nasync function searchBooks(search) {\n    try {\n        const response = await axios.get(API_URL, {\n            params: {\n                q: search,\n                printType: 'books',\n                startIndex: startIndex,\n                maxResults: 9,\n                key: API_KEY\n            }\n        });\n        return response.data.items;\n\n    } catch (error) {\n        console.log('Ошибка при выполнении запроса: ' + error);\n    }\n}\n\nasync function sortGalery(category) {\n    try {\n        loadingIndicator.style.display = 'block';\n        \n        const data = !input.value.trim() ? randomKeyword : input.value.trim();\n        query = !category ? data : category;\n        const books = await searchBooks(query);\n        console.log(books);\n        console.log(query);\n\n        let booksCard = `\n                    <li class=\"list-all-cards-category\" style=\"align-items: flex-start;\">\n                        <ul class=\"list-cards-category\">`;\n                        for (let book of books) {\n                            booksCard += `\n                                    <li data-category=\"${book.id}\" class=\"card-book\">\n                                        <a class=\"gallery-link\" href=\"${book.volumeInfo.canonicalVolumeLink}\">\n                                            <img class=\"img-example\" src=\"${!(book.volumeInfo.imageLinks && book.volumeInfo.imageLinks.thumbnail) ? imageNoBook : book.volumeInfo.imageLinks.thumbnail}\" alt=\"${book.volumeInfo.title}\">\n                                        </a>\n                                        <div class=\"card-book-container\">\n                                            <div>\n                                                <p>${book.volumeInfo.title}</p>\n                                                <p>${!(book.volumeInfo.authors) ? \"\" : book.volumeInfo.authors}</p>\n                                                <p class=\"book-desc\">${!(book.volumeInfo.description) ? \"\" : book.volumeInfo.description}</p>\n                                            </div>\n\n                                            <div class=\"rank-book-container\">\n                                                <svg fill=\"none\">\n                                                    <use id=\"star\" href=\"${sprite}#star\"></use>\n                                                </svg>\n                                                <span>${!(book.volumeInfo.pageCount) ? 0 : book.volumeInfo.pageCount}</span>\n                                            </div>\n                                        </div>\n                                    </li>\n                            `;\n                        }\n            booksCard += `</ul>\n                    </li>`;\n        listOne.innerHTML = booksCard;\n        forButton.innerHTML = `<button class=\"card-books-category-button\" type=\"button\" data-category=\"${query}\">See more</button>`;\n        \n    } catch(error) {\n        console.log('Ошибка при выполнении запроса: ' + error);\n    } finally {\n        loadingIndicator.style.display = 'none';\n    }\n}\n\nasync function nextGalery() {\n    try {\n        loadingIndicatorAfter.style.display = 'block';\n        forButton.style.display = 'none';\n        \n        const books = await searchBooks(query);\n        console.log(books);\n        console.log(query);\n\n        let booksCard = `\n                    <li class=\"list-all-cards-category\" style=\"align-items: flex-start;\">\n                        <ul class=\"list-cards-category\">`;\n                        for (let book of books) {\n                            booksCard += `\n                                    <li data-category=\"${book.id}\" class=\"card-book\">\n                                        <a class=\"gallery-link\" href=\"${book.volumeInfo.canonicalVolumeLink}\">\n                                            <img class=\"img-example\" src=\"${!(book.volumeInfo.imageLinks && book.volumeInfo.imageLinks.thumbnail) ? imageNoBook : book.volumeInfo.imageLinks.thumbnail}\" alt=\"${book.volumeInfo.title}\">\n                                        </a>\n                                        <div class=\"card-book-container\">\n                                            <div>\n                                                <p>${book.volumeInfo.title}</p>\n                                                <p>${!(book.volumeInfo.authors) ? \"\" : book.volumeInfo.authors}</p>\n                                                <p class=\"book-desc\">${!(book.volumeInfo.description) ? \"\" : book.volumeInfo.description}</p>\n                                            </div>\n                                            <div class=\"rank-book-container\">\n                                                <svg fill=\"none\">\n                                                    <use id=\"star\" href=\"${sprite}#star\"></use>\n                                                </svg>\n                                                <span>${!(book.volumeInfo.pageCount) ? 0 : book.volumeInfo.pageCount}</span>\n                                            </div>\n                                        </div>\n                                    </li>\n                            `;\n                        }\n            booksCard += `</ul>\n                    </li>`;\n\n        listOne.insertAdjacentHTML('beforeend', booksCard);\n        \n    } catch(error) {\n        console.log('Ошибка при выполнении запроса: ' + error);\n    } finally {\n        scrollToElement(450);\n        loadingIndicatorAfter.style.display = 'none';\n        forButton.style.display = 'flex';\n    }\n}\n\nasync function addColorLastWord( word ) {\n    const lastSpaceIndex = word.lastIndexOf(' ');\n    const nameCategory = document.querySelector(\".name-category\");\n    nameCategory.innerHTML = `${word.substring(0, lastSpaceIndex)} <span class=\"blue-color\">${word.substring(lastSpaceIndex + 1)}</span>`;\n}\n\nfunction getWidthWindow() {\n    const width = window.innerWidth;\n    if (width >= 1440) return 4;\n    else if (width >= 768) return 2;\n    else return 0;\n}\n\n// simplelightbox //\nasync function simpleLightbox() {\n    try {\n        new SimpleLightbox(('.gallery-link'), {\n            captionsData: 'alt',\n            captionDelay: 350,\n            uniqueImages: false,\n          });\n    } catch (error) {\n        iziToast.error({\n            title: \"Error\",\n            message: error.message,\n        });\n    }\n}\n\nasync function setColorGaleryList(e) {\n    const previousSelected = document.querySelector('.categories.selected');\n    if (previousSelected) {\n        previousSelected.classList.remove('selected');\n    }\n    if (typeof e === \"string\") {\n        const elementList = document.getElementById(e);\n        elementList.classList.add('selected');\n    }\n    else {\n        e.target.classList.add('selected');\n    }\n}\n\n// async function mainGalery() {\n//     try {\n//         loadingIndicator.style.display = 'flex';\n//         const response = await axios.get(`https://books-backend.p.goit.global/books/top-books`);\n//         const data = response.data;\n//         let booksCard = ``;\n        \n//         const widthWindow = getWidthWindow();\n//         for (let i in data) {\n//             booksCard += `\n//                     <li class=\"list-all-cards-category\"><div class=\"content-card-one-categ\"><h2 class=\"category-books\">${data[i].list_name}</h2>\n//                         <ul id=\"${data[i].list_name}\" class=\"list-cards-category\">`;\n            \n//             for (let j in data[i].books) {\n//                 booksCard += `\n//                     <li data-category=\"${data[i].books[j]._id}\" class=\"card-book\">\n//                         <a id=\"${data[i].books[j]._id}\" class=\"gallery-link\" href=\"${data[i].books[j].book_image}\"><img class=\"img-example\" src=\"${data[i].books[j].book_image}\" alt=\"${data[i].books[j].title}. Category: ${data[i].list_name}\"></img></a>\n//                         <div class=\"textUpHover\">Quick view</div>\n//                         <div class=\"card-book-container\">\n//                             <p>${data[i].books[j].title}</p>\n//                             <p>${data[i].books[j].author}</p>\n//                             <div class=\"rank-book-container\">\n//                                 <svg fill=\"none\">\n//                                     <use id=\"star\" href=\"${sprite}#star\"></use>\n//                                 </svg>\n//                                 <span>${data[i].books[j].rank_last_week}</span>\n//                             </div>\n//                         </div>\n//                     </li>\n//                 `;\n//                 if (widthWindow == j) break;\n//             }\n//             booksCard += `</ul></div>\n//                         <button class=\"card-books-category-button\" type=\"button\" data-category=\"${data[i].list_name}\">See more</button>\n//                     </li>`;\n//         }\n//         listOne.innerHTML = booksCard;\n        \n//     } catch(error) {\n//         iziToast.error({\n//             title: \"Error\",\n//             message: error.message,\n//         });\n//     } finally {\n//         simpleLightbox();\n//         scrollUp();\n//         loadingIndicator.style.display = 'none';\n//     }\n// }\n\nlist.addEventListener('click', async (e) => {\n    e.preventDefault();\n\n    console.log('list');\n    \n    document.querySelector('.list-one').classList.remove('grid-position');\n});\ngridOrientation.addEventListener('click', async (e) => {\n    e.preventDefault();\n\n    document.querySelector('.list-one').classList.add('grid-position');\n});\n\nfunction scrollToElement(px) {\n    window.scrollBy({\n        top: px,\n        behavior: \"smooth\",\n    });\n}\nfunction scrollToElementId(id) {\n    const element = document.getElementById(id);\n    element.scrollIntoView({\n        behavior: 'smooth'\n    });\n}"],"names":["imageNoBook","spanCounter","modalWindow","listOne","loadingIndicator","API_KEY","API_URL","arrayBooksShop","getMapFromLocalStorage","setSpanCounter","e","_id","book","searchBookById","shopBook","sprite","bookSaveInShop","buttonShL","paragraf","error","iziToast","updateLocalStorage","updateArrayMap","bookId","response","axios","element","listCategories","loadingIndicatorAfter","input","form","forButton","list","gridOrientation","categories","randomKeyword","startIndex","query","mainCategories","createSupportUkraine","addColorLastWord","sortGalery","scrollUpZero","selectedCategory","setColorGaleryList","scrollToElementId","category","nextGalery","contentCategories","searchBooks","search","data","books","booksCard","scrollToElement","word","lastSpaceIndex","nameCategory","previousSelected","px","id"],"mappings":"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"}